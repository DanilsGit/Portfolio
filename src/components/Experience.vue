<template>
    <section class="experience-section">
        <h1 class="experience-title">Would You Like to Know More About Me?</h1>
        <div class="experience-section-content">
            <div class="left">
                <div class="startExperience"></div>
                <div class="desktopContent">
                    <div class="desktopContentSection">
                        <h2>2019</h2>
                        <p>WordPress.</p>
                        <p>While studying before my graduation, I was also learning WordPress. This was crucial for our
                            family business, 'Equiservicios'. I was responsible for creating and publishing the website,
                            which included all contact methods and product information. This effort significantly
                            contributed to increasing our profits.</p>
                    </div>
                    <div class="desktopContentSection">
                        <h2>2020</h2>
                        <p>Web designer.</p>
                        <p>When the pandemic hit, everyone was at home, and I decided to make the most of the time by
                            diving into web development. I spent countless hours learning HTML and CSS, mastering the
                            fundamentals and creating responsive websites to practice my skills. However, I didn't dive
                            into JavaScript during that period. Looking back, I realize I would have benefited from
                            learning Git to save and manage my work more effectively.</p>
                    </div>
                    <div class="desktopContentSection">
                        <h2>2021</h2>
                        <p>Programming is powerful.</p>
                        <p>After starting university, I developed many software projects implementing Object-Oriented
                            Programming (OOP) in C++ and Java, functional programming in Racket, and greedy and dynamic
                            programming in Python. I also worked extensively with data structures. Some of these
                            projects are published on my GitHub. These projects have been incredibly helpful in learning
                            how to solve problems using different paradigms.</p>
                    </div>
                    <div class="desktopContentSection">
                        <h2>2022</h2>
                        <p>Trainee Web developer</p>
                        <p>My passion for web development truly awakened when I discovered JavaScript. I began taking a
                            course and uploading my progress to GitHub. At the time, I was unaware of existing
                            frameworks like React, Vue, or Angular, let alone backend technologies. However, I developed
                            landing pages for businesses, such as Urban Cocktails. This opportunity allowed me to learn
                            how to communicate with clients and explain ideas to others.</p>
                    </div>

                    <div class="desktopContentSection">
                        <h2>2023</h2>
                        <p>Youtube videos</p>
                        <p>I've discovered that explaining topics to others helps me memorize concepts more effectively.
                            By sharing knowledge on public platforms like YouTube, I can refresh my understanding while
                            helping others. Amazingly, this process has also improved my soft skills, making me better
                            at teamwork.</p>
                    </div>

                    <div class="desktopContentSection">
                        <h2>2024</h2>
                        <p>The line never ends</p>
                        <p>I have discovered many new technologies and frameworks used in web development. Since learning JavaScript, incorporating these technologies into my knowledge base has not been difficult. As part of a team, we created Rippio, which is my biggest project to date. This project allowed me to professionally learn React and manage APIs with Node.js and Express. Subsequently, I expanded my knowledge by learning Vue, Go, and Docker through other projects. Reflecting on my progress, I realize that I will never stop learning. Technology is constantly evolving, presenting new opportunities for growth and innovation. I am excited to continue exploring new technologies and frameworks, embracing the challenges they bring and the knowledge they offer.</p>
                        <p></p>
                    </div>
                </div>
            </div>

            <div class="right">

                <!-- mobile content -->
                <div class="mobileContent">
                    <img src="https://via.placeholder.com/100" alt="Experience" class="mobilePhoto exp1" />
                    <h2>Red</h2>
                    <p>Red is a color often associated with strong emotions such as passion, love, and anger. It's a
                        bold
                        and attention-grabbing color that can evoke feelings of excitement, warmth, and energy.</p>

                    <img src="https://via.placeholder.com/200" alt="Experience" class="mobilePhoto exp2" />
                    <h2>Green</h2>
                    <p>Green is a color that is often associated with nature, growth, and harmony. It is a calming and
                        relaxing color that can evoke feelings of balance, stability, and freshness. In color
                        psychology,
                        green is said to represent balance and stability, making it a popular choice for branding and
                        marketing in the health and wellness industry. </p>

                    <img src="https://via.placeholder.com/300" alt="Experience" class="mobilePhoto exp3" />
                    <h2>Pink</h2>
                    <p>Pink is a color that is often associated with femininity, romance, and sweetness. It is a softer
                        and
                        more delicate shade of red that can evoke feelings of warmth, love, and nurturing. In the world
                        of
                        branding and marketing, pink is often used to target a female audience or to promote products
                        that
                        are associated with beauty, love, or romance.</p>

                    <img src="https://via.placeholder.com/400" alt="Experience" class="mobilePhoto exp4" />
                    <h2>Blue</h2>
                    <p>Blue is a color that is often associated with calmness, trust, and reliability. It is a peaceful
                        and
                        serene color that can evoke feelings of stability, security, and professionalism. In color
                        psychology, blue is said to represent loyalty and trust, making it a popular choice for branding
                        and
                        marketing in the finance and technology industries.</p>

                    <img src="https://via.placeholder.com/500" alt="Experience" class="mobilePhoto exp5" />
                    <h2>xd</h2>
                    <p>Blue is a color that is often associated with calmness, trust, and reliability. It is a peaceful
                        and
                        serene color that can evoke feelings of stability, security, and professionalism. In color
                        psychology, blue is said to represent loyalty and trust, making it a popular choice for branding
                        and
                        marketing in the finance and technology industries.
                    </p>

                    <img src="https://via.placeholder.com/500" alt="Experience" class="mobilePhoto exp5" />
                    <h2>xd2</h2>
                    <p>Blue is a color that is often associated with calmness, trust, and reliability. It is a peaceful
                        and
                        serene color that can evoke feelings of stability, security, and professionalism. In color
                        psychology, blue is said to represent loyalty and trust, making it a popular choice for branding
                        and
                        marketing in the finance and technology industries.
                    </p>
                </div>

                <!-- desktop content -->

                <div class="experience-ImageContainer">
                    <img src="https://firebasestorage.googleapis.com/v0/b/portfolio-38c72.appspot.com/o/experience%2Fwordpress.png?alt=media&token=7ff4cf02-7134-402e-bac1-a9aabd875eb0"
                        alt="Experience" class="experience-image exp1" />
                    <img src="https://firebasestorage.googleapis.com/v0/b/portfolio-38c72.appspot.com/o/experience%2Fhtmlcss.jpg?alt=media&token=b00b8309-6709-4b21-92e8-fd65236c18e5"
                        alt="Experience" class="experience-image exp2" />
                    <img src="https://firebasestorage.googleapis.com/v0/b/portfolio-38c72.appspot.com/o/experience%2Fparadigms.png?alt=media&token=93c69c47-8c01-4ac6-b2ca-349fe12feb7d"
                        alt="Experience" class="experience-image exp3" />
                    <img src="https://firebasestorage.googleapis.com/v0/b/portfolio-38c72.appspot.com/o/experience%2Furban.png?alt=media&token=0e49c043-3fa3-4299-a0d7-40c4afb834df"
                        alt="Experience" class="experience-image exp4" />
                    <img src="https://firebasestorage.googleapis.com/v0/b/portfolio-38c72.appspot.com/o/experience%2Fyoutube.png?alt=media&token=dd42a838-3cfc-4eb1-b1cb-213aea9f891a"
                        alt="Experience" class="experience-image exp5" />
                    <img src="https://firebasestorage.googleapis.com/v0/b/portfolio-38c72.appspot.com/o/experience%2Frippio.png?alt=media&token=4f25b016-bbf0-4995-8301-66f9fc303044"
                    alt="Experience" class="experience-image exp6" />
                </div>
            </div>
        </div>
    </section>
</template>

<script setup>
import { gsap } from 'gsap';
import ScrollTrigger from 'gsap/dist/ScrollTrigger';
import { onMounted } from 'vue';
gsap.registerPlugin(ScrollTrigger);

onMounted(() => {
    const details = gsap.utils.toArray(".desktopContentSection:not(:first-child)")
    const photos = gsap.utils.toArray(".experience-image:not(:first-child)")
    gsap.set(photos, { yPercent: 101 })
    const allPhotos = gsap.utils.toArray(".experience-image")

    // create
    let mm = gsap.matchMedia();

    // add a media query. When it matches, the associated function will run
    mm.add("(min-width: 600px)", () => {

        ScrollTrigger.create({
            trigger: ".experience-section-content",
            start: "top top",
            end: "bottom bottom",
            pin: ".right"
        })

        //create scrollTrigger for each details section
        //trigger photo animation when headline of each details section 
        //reaches 80% of window height
        details.forEach((detail, index) => {
            let headline = detail.querySelector("h2")
            let animation = gsap.timeline()
                .to(photos[index], { yPercent: 0 })
                .set(allPhotos[index], { autoAlpha: 0 })
            ScrollTrigger.create({
                trigger: headline,
                start: "top 80%",
                end: "top 50%",
                animation: animation,
                scrub: true,
                markers: false
            })
        })
    });


});

</script>

<style scoped>

.experience-title{
    font-size: clamp(2em, 4vw, 3em);
    text-align: center;
    margin-bottom: 2em;
}

.experience-section-content h2 {
    font-size: clamp(2em, 4vw, 3em);
}

.experience-section-content p {
    font-size: clamp(1.4em, 2.5vw, 2em);
    line-height: 1.4;
}


.experience-section-content {
    display: flex;

}

.left {
    width: 50%;
    border-left: 4px solid #000;
    margin-left: 2em;
    position: relative;
}

.startExperience {
    background-color: #000;
    border-radius: 50%;
    width: 4em;
    height: 4em;
    top: -2em;
    left: -2em;
    position: absolute;
}

.right {
    height: 100vh;
    /* outline:1px solid purple; */
    width: 50%;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.desktopContent {
    margin: auto;
    width: 80%;
    display: grid;
    grid-template-columns: 1fr;
    gap: 1em;
}

.desktopContentSection {
    min-height: 100vh;
    /* outline:1px solid green; */
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 1em;
    background-color: #fffaf4;
    padding: 1em;
    border-radius: 1em;
}


.experience-ImageContainer {
    width: 25vw;
    height: 25vw;
    border-radius: 20px;
    margin: auto;
    position: relative;
    overflow: hidden;
    box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.4);
}

.experience-image {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    background-color: rgb(255, 228, 228);
}

/* small screen / mobile layout */
.mobileContent {
    display: none;
    width: 80vw;
}

.mobilePhoto {
    width: 50vw;
    height: 50vw;
    margin-top: 5em;
    border-radius: 6vw;
}


/* defines styles for screens up to 599px wide */
@media screen and (max-width: 599px) {
    .left {
        display: none;
    }

    .right {
        height: auto;
        width: 100%;
        align-items: center;
    }

    .experience-ImageContainer {
        display: none;
    }

    .mobileContent {
        display: block;
    }


}
</style>